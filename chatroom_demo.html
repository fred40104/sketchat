<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Sketchat</title>

    <!-- Bootstrap core CSS -->
    <link href="./css/bootstrap.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./gridster/jquery.gridster.css">
    <link rel="stylesheet" type="text/css" href="./gridster/demo.css">
    <link rel="stylesheet" type="text/css" href="./gridster/size.css">

    <style> video { width: 100%; height: 100%; } </style>
  </head>

  <body style="">
    <div id="header">
      <nav id="navbar" class="navbar navbar-default" role="navigation">
	<!-- Brand and toggle get grouped for better mobile display -->
	<div class="navbar-header">
	  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	    <span class="sr-only">Toggle navigation</span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="./" style="font-size: 32px; font-weight: bold; padding-left: 0px;">Sketchat</a>
	</div>
	<!-- Collect the nav links, forms, and other content for toggling -->
	<div >
	  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
	    <div id='clear'>Clear</div>
	    <ul class="nav navbar-nav navbar-right">
	      <li><a href="" data-loc="home" class="menu-list"></a></li>
	    
	    </ul>
	  </div>
	</div><!-- /.navbar-collapse -->
      </nav>
    </div>
    <div id='cursors'>
    
    </div>
     	<div id='draw' style='position: relative; top: 55px;'>
    		<canvas id='paper' height= "1000" width= "1900">
    		</canvas>
     	</div>
    <hgroup id="instructions">		
    	<h1>Draw anywhere!</h1>
	<h2>You will see everyone else who's doing the same.</h2>
	<h3>Tip: if the stage gets dirty, simply reload the page</h3>
    </hgroup>
    <section id="video-gallery" style='height: 400px; overflow: scroll;'>
    <section>
      <div class="gridster ready">
	<ul id="remotes">
	  <li data-row="1" data-col="1" data-sizex="3" data-sizey="4" class="gs-w"><video id="localVideo"></video></li>
	</ul>
      </div>
    </section>
    </section>
    <!--footer>
    <div class="container">
      <div class="text-centered">
	<p>&copy; 2013 Sketchat &nbsp;All rights reserved.</p>
      </div>
    </div>
    </footer--!>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="./simplewebrtc/socket.io.js"></script>
    <script src="./simplewebrtc/simplewebrtc.bundle.js"></script>
    <script src="./simplewebrtc/main.js"></script>
    <script src='./node-drawing-game/assets/js/script.js'></script>
    <!--script src="./gridster/jquery.js"></script-->
    <script src="./gridster/jquery.gridster.js"></script>

    <script type="text/javascript">
      var gridster;

      $(function(){

	  gridster = $(".gridster ul").gridster({
	  widget_base_dimensions: [100, 55],
	  widget_margins: [5, 5],
	  helper: 'clone',
	 resize: {
	enabled: true
}
}).data('gridster');


	  $('.js-resize-random').on('click', function() {
	    gridster.resize_widget(gridster.$widgets.eq(getRandomInt(0, 9)),
	      getRandomInt(1, 4), getRandomInt(1, 4))
	    });

	  });
$('#video-gallery').css('position', 'fixed');
$('#video-gallery').css('top', (screen.height - 400) + 'px');
$('#video-gallery').css('width', '100%');

$('#clear').on('click', function(){
    
    if($('#video-gallery').css('top') == (screen.height - 400)+'px'){
    	$('#video-gallery').animate({top: screen.height+'px'});
    }else{
	$('#video-gallery').animate({top: (screen.height - 400)+'px'})		
    }

    var canvas = $('canvas')[0];
    var ctx = canvas.getContext('2d');
    /*canvas.width  = window.innerWidth;
    canvas.height  = window.innerHeight;
    console.log(canvas.width+' '+canvas.height);*/
    ctx.setTransform(1, 0, 0, 1, 0, 0);
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.restore();

    });

  </script>


  </body></html>
